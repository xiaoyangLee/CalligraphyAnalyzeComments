<!DOCTYPE html>
<html>
<head>
  <title>兰亭集序</title>
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />

<script src="js/jquery.min.js"></script>
<script src="js/jquery.Jcrop.js"></script>
<script type="text/javascript">
    //showPre方法用于显示预览图
  function showPre() {
    //alert("点击了Pre");
    document.getElementById("imgp").attributes['src'].value="../images/dog.jpg";
//      document.getElementById("imgp").style.clip="rect(0,100px,100px,0)";

  }


  jQuery(function($){

    var jcrop_api;

    $('#target').Jcrop({
      onChange:   showCoords,
      onSelect:   showCoords,
      onRelease:  clearCoords
    },function(){
      jcrop_api = this;
    });

    $('#coords').on('change','input',function(e){
      var x1 = $('#x1').val(),
          x2 = $('#x2').val(),
          y1 = $('#y1').val(),
          y2 = $('#y2').val();
      jcrop_api.setSelect([x1,y1,x2,y2]);
    });

  });

  // Simple event handler, called from onChange and onSelect
  // event handlers, as per the Jcrop invocation above
  function showCoords(c)
  {
    $('#x1').val(c.x);
    $('#y1').val(c.y);
    $('#x2').val(c.x2);
    $('#y2').val(c.y2);
    $('#w').val(c.w);
    $('#h').val(c.h);
      //执行showPre()方法显示预览图
      showPre();
  };

  function clearCoords()
  {
    $('#coords input').val('');
  };

</script>
<link rel="stylesheet" href="css/main.css" type="text/css" />
<link rel="stylesheet" href="css/demos.css" type="text/css" />
<link rel="stylesheet" href="css/jquery.Jcrop.css" type="text/css" />

<style type="text/css">
	.img{
		width: 850px;

	}
    .table{
      width:890px;
    }
  .preview{
    position: absolute;
    width:185px;
    height:185px;
    margin-left: 960px;
    margin-top:200px;
    background-color: deepskyblue;
  }
  .imgpre{
    width:175px;
    height: 175px;
    margin-left: 5px;
    margin-top:5px;
  }

</style>
</head>
<body>

<div class="container">
<div class="row">
<div class="span12">
  <div class="preview" onmouseover="clickPre();">
    <img src=" " class="imgpre" id="imgp"/>
  </div>
<div class="jc-demo-box">

<div class="page-header">
<ul class="breadcrumb first">
  <li><a href="../index.html">主页</a> <span class="divider">/</span></li>
  <li><a href="../index.html">列表</a> <span class="divider">/</span></li>
  <li class="active">兰亭集序</li>
</ul>
<h1>兰亭集序</h1>
</div>


  <!-- This is the image we're attaching Jcrop to -->
  <img src="../images/timg.jpg" id="target" alt="兰亭集序" class="img" />

  <!-- This is the form that our event handler fills -->
  <form id="coords"
    class="coords"
    onsubmit="return false;"
    action="#">

    <div class="inline-labels">
    <label>X1 <input type="text" size="4" id="x1" name="x1" /></label>
    <label>Y1 <input type="text" size="4" id="y1" name="y1" /></label>
    <label>X2 <input type="text" size="4" id="x2" name="x2" /></label>
    <label>Y2 <input type="text" size="4" id="y2" name="y2" /></label>
    <label>W <input type="text" size="4" id="w" name="w" /></label>
    <label>H <input type="text" size="4" id="h" name="h" /></label>
    </div>
  </form>

  <div class="description">
      <p>这里存放评论以及被截取的图片</p>
      <table border="1" class="table">
        <tr>
          <td>图片</td>
          <td>注释</td>
        </tr>
        <tr>
          <td>图片1</td>
          <td>这个字写的很好，王羲之书法大家</td>
        </tr>
      </table>
  </div>


<div class="tapmodo-footer">
  <a href="#" class="tapmodo-logo segment">我是底部显示</a>
  <div class="segment"><b>&copy; 2017-2018 我是底部显示</b><br />
     <a href="#">我是底部显示</a>
  </div>
</div>

<div class="clearfix"></div>

</div>
</div>
</div>
</div>

</body>
</html>

